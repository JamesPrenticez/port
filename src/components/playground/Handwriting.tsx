import { Button } from '@components/common/Button'
import React, { 
  useEffect, 
  useState, 
  // useRef 
} from 'react'

export function Handwriting() {
  const [playAnimation, setPlayAnimation] = useState(false);
  return (
    <div className='bg-gray-50 w-full h-screen flex flex-col space-y-12 items-center justify-center'>

      <HandwritingEffect />

      <Button className="bg-gray-50 hover:bg-green-500 hover:text-white text-black font-bold"
          
      onClick={() => {setPlayAnimation(!playAnimation); console.log("play")}}
      >
        Play Animation
      </Button>
    </div>
    
  )
}

export function HandwritingEffect() {
  // const pathRef = useRef(null)

  useEffect(() => {
    const style = document.createElement("style");
    style.innerHTML = `
      @keyframes draw {
        to {
          stroke-dashoffset: 0;
        }
      }
    `;
    document.head.appendChild(style);

    return () => {
      document.head.removeChild(style);
    };
  }, []);

  // to figure out strokeDashArray value
  // useEffect(() => {
  //   if(pathRef.current){
  //     const length = pathRef.current.getTotalLength();
  //     console.log(length);
  //   }
  // }, [pathRef])

  return (
    <svg xmlns="http://www.w3.org/2000/svg" 
      viewBox='0 0 500 250'
      width={400}
      height={150}
      // style={{backgroundColor: "plum"}}
    >
      <g fill="none" stroke="none">
        <path id="s1" d="M71,227.5a80.7,80.7,0,0,1-21.125-2.875,38.94,38.94,0,0,1-17.75-10Q25,207.5,25,194.747a49.005,49.005,0,0,1,2.75-16,87.332,87.332,0,0,1,6.75-15,73.078,73.078,0,0,1,9.375-13A121.1,121.1,0,0,1,57.5,137.5,85.365,85.365,0,0,1,73,127.122Q81,123,88,123a2.219,2.219,0,0,1,2.125,1.75,6.245,6.245,0,0,0,2.375,3,11.008,11.008,0,0,0,1.375.375,4.041,4.041,0,0,1,1.375.625q1.248.5,1.25,1.5c0,.836-.5,1.25-1.5,1.25a7.44,7.44,0,0,1-3.125-.625,7.528,7.528,0,0,0-3.125-.625,33.774,33.774,0,0,0-10.875,2.125,89.672,89.672,0,0,0-10.625,4.375,55.575,55.575,0,0,0-16.625,12.5,64.519,64.519,0,0,0-11.75,18,50.65,50.65,0,0,0-4.375,20.5q0,12,6.625,18.875a35.737,35.737,0,0,0,16.75,9.625A76.56,76.56,0,0,0,78,219a110.452,110.452,0,0,0,23.375-2.75,129.573,129.573,0,0,0,25-8.25,101.621,101.621,0,0,0,22.375-13.5A66.61,66.61,0,0,0,164.875,176,45.312,45.312,0,0,0,171,152.747,20.28,20.28,0,0,0,166.75,140a45.135,45.135,0,0,0-11.125-10q-6.879-4.5-14.375-9t-14.375-9.5a45.776,45.776,0,0,1-11.125-11.25A25.565,25.565,0,0,1,111.5,85.5a34.926,34.926,0,0,1,5.75-18.875,65.537,65.537,0,0,1,14.875-16.375,80.076,80.076,0,0,1,19.5-11.5A51.861,51.861,0,0,1,171.25,34.5a22.693,22.693,0,0,1,11.5,2.875q5,2.877,5,10.375a31.14,31.14,0,0,1-.75,6.5l.5.5a40.837,40.837,0,0,0,2.875-3.625q2.121-2.871,4.25-5.375t2.625-2.5A.663.663,0,0,1,198,44a.222.222,0,0,1-.25.25A54.158,54.158,0,0,0,191,56.373a134.314,134.314,0,0,0-4.25,13.375c0,.336-.25.5-.75.5a5.457,5.457,0,0,1-2.625-1c-1.086-.664-1.625-1.332-1.625-2a20.5,20.5,0,0,1,1.125-6.75A19.745,19.745,0,0,0,184,54a7.074,7.074,0,0,0-2.625-6,14.123,14.123,0,0,0-6.25-2.625,40.837,40.837,0,0,0-6.875-.625A52.711,52.711,0,0,0,153.875,47a65.3,65.3,0,0,0-15.125,6.5,41.56,41.56,0,0,0-12,10.375A21.7,21.7,0,0,0,122,77.5a16.555,16.555,0,0,0,4,11,38.827,38.827,0,0,0,9.5,8.125q5.5,3.375,10.25,6.125a168.642,168.642,0,0,1,15.875,9.75,63.919,63.919,0,0,1,14.25,13.25A27.207,27.207,0,0,1,181.75,143a60.419,60.419,0,0,1-7,28.875,83.927,83.927,0,0,1-18.75,23.5,118.26,118.26,0,0,1-26.25,17.5A146.879,146.879,0,0,1,100,223.747,121.558,121.558,0,0,1,71,227.5Z" />
        <path id="k2" d="M177.247,208.747a.223.223,0,0,1-.25-.25,2.628,2.628,0,0,1,.875-1.875A4.366,4.366,0,0,0,179,205a63.4,63.4,0,0,0,4.25-8.625q2.25-5.373,4.25-11.125t3.25-9.25Q196,161.249,201,146.122t10.5-29.874q3.246-8.748,7.625-19.75a237.778,237.778,0,0,1,10.25-22.25,126.854,126.854,0,0,1,13.375-20.625A66.386,66.386,0,0,1,259.5,38.5a38.5,38.5,0,0,1,20.75-5.75,21.86,21.86,0,0,1,6.125,1,8.072,8.072,0,0,1,4.875,3.5,3.124,3.124,0,0,1,1,2.25c0,.668-.25,1-.75,1a8.19,8.19,0,0,1-3.25-2.75,5.27,5.27,0,0,0-4.5-2q-5,0-11,3.875a64.2,64.2,0,0,0-11.125,9.125A97.571,97.571,0,0,0,253.5,58a181.7,181.7,0,0,0-16.124,26.75q-7.629,15.252-14,31.25T212,145.747a79.624,79.624,0,0,1,6.875-8.125A126.762,126.762,0,0,1,228.5,128.5a65.222,65.222,0,0,1,10.625-7.5q5.373-3,9.625-3A10.281,10.281,0,0,1,259.5,128.747a19.127,19.127,0,0,1-4.75,13.125,34.37,34.37,0,0,1-12.124,8.625,70.285,70.285,0,0,1-15.25,4.75A96.491,96.491,0,0,1,213.5,157a117.4,117.4,0,0,0,5.25,13.125,97.319,97.319,0,0,0,8.625,15,58.9,58.9,0,0,0,11.125,12.25q6,4.875,12.5,4.875,7.745,0,11.874-4.75T271,187.247c.164,0,.25.25.25.75a4.442,4.442,0,0,1-.5,2,16.917,16.917,0,0,1-1,1.75q-1,1.752-1.875,3.625A23.062,23.062,0,0,1,265.746,199a19.261,19.261,0,0,1-8.125,6.25,26.448,26.448,0,0,1-10.124,2,32.328,32.328,0,0,1-19.625-6.125,51.618,51.618,0,0,1-14-15.625,115.883,115.883,0,0,1-9.125-19q-1.752,5.5-3.5,11.125T197.747,189q-.252,1-.625,2.25c-.25.836-.461,1.668-.625,2.5a2.214,2.214,0,0,0-.25,1,11.652,11.652,0,0,1-.625,2.875,6.075,6.075,0,0,1-2.375,2.125q-.5.252-4.5,2.5t-7.625,4.375A32.538,32.538,0,0,1,177.247,208.747ZM218,152.5a33.252,33.252,0,0,0,13-2.625,25.068,25.068,0,0,0,10.25-7.75,19.509,19.509,0,0,0,4-12.375,13,13,0,0,0-.375-2.875,2.11,2.11,0,0,0-2.375-1.624q-6,0-11.875,5A95.03,95.03,0,0,0,219.5,141.5q-5.25,6.252-9,10.25A35.738,35.738,0,0,0,218,152.5Z" />
        <path id="i3" d="M269.246,206.247q-4,0-5.5-2a9.452,9.452,0,0,1-1.5-5.75q0-8.25,3.375-20t7.625-23.875Q277.494,142.5,280,133a7.15,7.15,0,0,1,4.875-4.875,25.891,25.891,0,0,0,6.625-3.374,46.588,46.588,0,0,1,8.5-4.625,24.444,24.444,0,0,1,9.5-1.875,1.991,1.991,0,0,1,1.625.5,1.538,1.538,0,0,1,.375.75c0,1-.586,1.5-1.75,1.5q-3.5,0-7.25,4.125a61.578,61.578,0,0,0-7.5,10.624,127.972,127.972,0,0,0-6.75,13.5q-3,7-5.25,12.875t-3,8.625q-1.254,4-2.5,9.375a43.723,43.723,0,0,0-1.25,9.875,20.2,20.2,0,0,0,.5,4.125,2.743,2.743,0,0,0,3,2.375,7.145,7.145,0,0,0,3.75-1.25,51.5,51.5,0,0,0,10.875-8.875,103.474,103.474,0,0,0,10-12.25A98.856,98.856,0,0,0,311.746,162a1.011,1.011,0,0,1,.5,1,9.72,9.72,0,0,1-1.75,4.375q-1.752,2.877-4,6.125t-4.125,5.75q-1.875,2.5-1.875,3a8.247,8.247,0,0,1-.75,2.875q-.5.879-1.5,2.875-3,3-8,7.375a70.058,70.058,0,0,1-10.5,7.625A20.709,20.709,0,0,1,269.246,206.247ZM311.5,98a18.882,18.882,0,0,1-6.125-1.625q-4.125-1.623-4.125-4.125a.507.507,0,0,1,.125-.375.511.511,0,0,0,.125-.375q1.248-2.5,5.625-3a23.66,23.66,0,0,0,6.625-1.5,84.127,84.127,0,0,1,9.75-3.25,25.4,25.4,0,0,0,9-4.5c.664.336,1,.668,1,1q0,1-2.125,2.75a13.124,13.124,0,0,0-2.875,3,25.875,25.875,0,0,1-4.375,4.375A62.422,62.422,0,0,1,317,95.623Q313.246,98,311.5,98Z" />
        <path id="l4" d="M306.992,205.247q-7.5,0-7.5-8.25,0-5.748,3-16t7.125-21.875q4.125-11.625,8.25-22t6.375-16.374q3.246-8.748,8-20.25t11-23.375a142.576,142.576,0,0,1,14.125-21.875A72.9,72.9,0,0,1,374.867,39a38.017,38.017,0,0,1,21.125-6.25q12.5,0,16.625,4.5t4.125,9.25c0,1.336-.461,2.168-1.375,2.5s-1.375-.082-1.375-1.25a10.654,10.654,0,0,0-4.125-8.625,15.467,15.467,0,0,0-10.125-3.375q-10.254,0-19.5,7.75a90.055,90.055,0,0,0-17.25,20,221.949,221.949,0,0,0-14.5,25.875q-6.5,13.629-11.375,25.75T329.492,134.5q-1.752,4.752-4.75,12.375t-5.875,16q-2.877,8.379-4.875,16a51.118,51.118,0,0,0-2,12.375,14.547,14.547,0,0,0,.5,3.5,2.358,2.358,0,0,0,2.5,2,4.2,4.2,0,0,0,2.125-.5q.873-.5,1.875-1a48.633,48.633,0,0,0,11.125-8.875,94.761,94.761,0,0,0,9.875-12.25q4.5-6.621,7.5-12.125a1.464,1.464,0,0,1,.25,1q0,2-2.875,6.25t-5.75,8.125q-2.877,3.879-3.125,4.875a11.1,11.1,0,0,1-.75,2.875c-.336.75-.75,1.711-1.25,2.875q-3,3-7.625,7a77.539,77.539,0,0,1-9.625,7.125A18.371,18.371,0,0,1,306.992,205.247Z" />
        <path id="l5" d="M342.74,205.247q-7.5,0-7.5-8.25,0-5.748,3-16t7.125-21.875q4.125-11.625,8.25-22t6.375-16.374q3.246-8.748,8-20.25t11-23.375a142.576,142.576,0,0,1,14.125-21.875A72.9,72.9,0,0,1,410.615,39a38.017,38.017,0,0,1,21.125-6.25q12.5,0,16.625,4.5t4.125,9.25c0,1.336-.461,2.168-1.375,2.5s-1.375-.082-1.375-1.25a10.654,10.654,0,0,0-4.125-8.625,15.467,15.467,0,0,0-10.125-3.375q-10.254,0-19.5,7.75a90.055,90.055,0,0,0-17.25,20,221.949,221.949,0,0,0-14.5,25.875q-6.5,13.629-11.375,25.75T365.24,134.5q-1.752,4.752-4.75,12.375t-5.875,16q-2.877,8.379-4.875,16a51.118,51.118,0,0,0-2,12.375,14.547,14.547,0,0,0,.5,3.5,2.358,2.358,0,0,0,2.5,2,4.2,4.2,0,0,0,2.125-.5q.873-.5,1.875-1a48.633,48.633,0,0,0,11.125-8.875,94.761,94.761,0,0,0,9.875-12.25q4.5-6.621,7.5-12.125a1.464,1.464,0,0,1,.25,1q0,2-2.875,6.25t-5.75,8.125q-2.877,3.879-3.125,4.875a11.1,11.1,0,0,1-.75,2.875c-.336.75-.75,1.711-1.25,2.875q-3,3-7.625,7a77.539,77.539,0,0,1-9.625,7.125A18.371,18.371,0,0,1,342.74,205.247Z" />
        <path id="s6" d="M379.487,207.5a36.42,36.42,0,0,1-10.5-1.75,14.127,14.127,0,0,1-8.5-6.5v-.5q0-1.248,3.125-3.875t6.625-5.25a28.334,28.334,0,0,0,4.5-3.875l1.75-.5.5,1a4.288,4.288,0,0,0-1.75,3.25,7.934,7.934,0,0,0,2.875,6.25,18.993,18.993,0,0,0,6.75,3.75,22.656,22.656,0,0,0,6.875,1.25,26.625,26.625,0,0,0,8.875-2,33.216,33.216,0,0,0,9.625-5.5q4.248-3.5,4.25-7.75a16.928,16.928,0,0,0-4-11.25,68.222,68.222,0,0,0-9.25-9,67.52,67.52,0,0,1-9.25-9,16.555,16.555,0,0,1-4-11,21.442,21.442,0,0,1,4.375-13.125,38.474,38.474,0,0,1,11.25-10,59.255,59.255,0,0,1,14.375-6.25,50.875,50.875,0,0,1,13.75-2.125q1,0,4.5.375a40.8,40.8,0,0,1,6.625,1.25q3.123.879,3.125,2.375c0,.336-.086.5-.25.5h-.5l-2-.5a10.787,10.787,0,0,1,.75,4.25,27.3,27.3,0,0,1-3.25,11.249,33.838,33.838,0,0,1-2.5,3.25q-2.25,2.754-4.5,5.25t-2.75,2.5l-.25-.5a20.166,20.166,0,0,1,3.25-4.375,11.846,11.846,0,0,0,2.75-8.125,10.2,10.2,0,0,0-4.75-8.624,16.659,16.659,0,0,0-9.75-3.375,19.554,19.554,0,0,0-9.875,3,27.082,27.082,0,0,0-8.5,7.749,16.659,16.659,0,0,0-3.375,9.75q0,4.5,4.375,9.375a111.406,111.406,0,0,0,10,9.75,124.624,124.624,0,0,1,10,9.625q4.371,4.752,4.375,9v.75q0,6.252-5.5,11.625a51.7,51.7,0,0,1-13.75,9.375,87.038,87.038,0,0,1-16.625,6.125A58.8,58.8,0,0,1,379.487,207.5Z" />
      </g>
      
      <clipPath id="_cps1"> <use xlinkHref="#s1" style={{overflow:"visible"}}/> </clipPath>
      <clipPath id="_cpk2"> <use xlinkHref="#k2" style={{overflow:"visible"}}/> </clipPath>
      <clipPath id="_cpi3"> <use xlinkHref="#i3" style={{overflow:"visible"}}/> </clipPath>
      <clipPath id="_cpl4"> <use xlinkHref="#l4" style={{overflow:"visible"}}/> </clipPath>
      <clipPath id="_cpl5"> <use xlinkHref="#l5" style={{overflow:"visible"}}/> </clipPath>
      <clipPath id="_cps6"> <use xlinkHref="#s6" style={{overflow:"visible"}}/> </clipPath>

      <g fill="none" stroke="white" strokeWidth={25} strokeDasharray={564.3341064453125} strokeDashoffset={564.3341064453125} >
        <path 
          // ref={pathRef} // to figure out strokeDashArray value
          id="_s1" clipPath="url(#_cps1)" style={{animation: "draw 2.4s linear forwards"}} d="M207.462,41.406c-6.765,19.058-14.028,32.352-18.2,31.451-3.929-.849,5.981-25.07-3.857-34.22-11.839-11.01-51.336.069-63.693,26.9-1.965,4.269-7.484,15.818-3.263,27.989,8.6,24.8,45.777,18.49,55.186,38.67,10.735,23.021-19.355,70.461-61.714,85.649-29.651,10.631-72.128,7.9-81.1-11.868-8.926-19.671,15.087-56.72,63.3-86.242"
        />
        <path id="_k2" clipPath="url(#_cpk2)" style={{animation: "draw 2.4s linear forwards", animationDelay: "2.4s"}} d="M292.912,40.615c-3.512-.811-20-4.227-35.209,5.736a45.106,45.106,0,0,0-14.044,15.231c-25.444,42.092-38.166,63.138-45.89,88.813-11.3,37.557-12.674,67.7-13.055,67.649-1.991-.267-7.265-29.24,6.726-56.967,2.314-4.587,18.749-36.077,45.3-38.176,5.726-.453,16.147.127,18.4,5.34,2.5,5.8-5.4,16.7-15.231,20.967-15.588,6.761-28.849-6.273-34.615-.593-6.251,6.158,1.217,29.466,17.406,41.934,16.245,12.51,35.779,9.876,40.55,9.1" />
        <path id="_i3" clipPath="url(#_cpi3)" style={{animation: "draw 2.4s linear forwards", animationDelay: "4.8s"}} d="M312.3,118.549c-6.576,1.012-16.594,3.7-23.539,11.868-4.87,5.731-5.865,11.379-7.714,18.989-7.823,32.2-17.168,42.912-13.253,46.286,1.624,1.4,7.789,3.485,38.176-20.967"/>
        <path id="_l4" clipPath="url(#_cpl4)" style={{animation: "draw 2.4s linear forwards", animationDelay: "5.5s"}} d="M415.747,53.67c-.042-4.161-.693-14.505-7.516-18.989-11.648-7.655-31.777,8.011-35.209,10.681-17.558,13.664-24.074,32.257-27.692,42.33-27.971,77.861-47.257,104.343-39.561,109.582,3.532,2.405,12.507.175,37.583-23.34" />
        <path id="_l5" clipPath="url(#_cpl5)" style={{animation: "draw 2.4s linear forwards", animationDelay: "6.6s"}} d="M451.747,51.692c-2.169-7.258-6.013-15.318-13.055-17.8-18.568-6.55-45.729,30.493-50.637,37.187-6.2,8.45-12.06,18.2-34.022,78.329-14.434,39.519-16.137,46.905-13.451,48.66,2.935,1.917,12.057-2.265,42.33-36.792" />
        <path id="_s6" clipPath="url(#_cps6)" style={{animation: "draw 2.4s linear forwards", animationDelay: "7.8s"}} d="M428.8,146.637c9.231-4.2,13.954-12.66,12.264-19.385-2.064-8.212-12.854-10.486-13.846-10.681-13.108-2.569-29.532,8.107-30.857,19.385-1.76,14.968,24.221,21.257,23.736,39.56-.283,10.685-9.434,19.731-17.8,23.341-14.864,6.411-35.286-.868-46.286-19.385" />
        <path id="_I3" clipPath="url(#_cpi3)" style={{animation: "draw 2.4s linear forwards", animationDelay: "9s"}} d="M296.67,95.6l38.77-19.78" />
      </g>
    </svg>
  )
}

// https://www.youtube.com/watch?v=cBOW8Nbb2PQ
// https://www.youtube.com/watch?v=fI4FP4JCLuA
// https://observablehq.com/@hastebrot/vertical-text-alignment-in-svg

// Use text svg rather than converting to svg path
// <svg
//   xmlns="http://www.w3.org/2000/svg"
//   //viewBox="0 0 447.236 216.382"
//   //  width={447.236}
//   //  height={216.382}
//   width={447.236}
//   height={216.382}
//   fill="none"
//   stroke="red"
//   strokeWidth={25}
//   dx="5px"
//   style={{
//     clipPath: "url(#clipPath)",
//   }}
// >
//   <text
//     id="text"
//     dx="15px" // like padding
//     dy="0px"
//     style={{
//       font: " 250px Beau Rivage",
//       fill: "blue",
//       stroke: "none",
//       dominantBaseline: "hanging", // Aligns text vertically to the top
//       textAnchor: "start", // Aligns text horizontally to the start (left)
//     }}
//   >
//     Skills
//   </text>
//   <path
//     style={{
//       clipPath: "url(#clipPath)",
//     }}
//     id="_1"
//     d="M190.974,21.312c-6.765,19.058-14.028,32.352-18.2,31.451-3.928-.849,5.982-25.069-3.857-34.22-11.838-11.01-51.335.069-63.692,26.9-1.966,4.269-7.484,15.818-3.264,27.989,8.6,24.795,45.777,18.49,55.187,38.671,10.734,23.02-19.355,70.46-61.715,85.648-29.651,10.631-72.127,7.9-81.1-11.868-8.927-19.671,15.086-56.72,63.3-86.242"
//   />
//   <path
//     id="_2"
//     d="M276.424,20.521c-3.512-.811-20-4.226-35.208,5.736a45.1,45.1,0,0,0-14.044,15.231c-25.444,42.092-38.166,63.138-45.89,88.813-11.3,37.557-12.675,67.7-13.055,67.649-1.992-.267-7.266-29.24,6.725-56.967,2.314-4.587,18.749-36.077,45.3-38.176,5.725-.453,16.147.128,18.4,5.341,2.5,5.8-5.4,16.7-15.231,20.967-15.588,6.76-28.849-6.274-34.615-.594-6.251,6.158,1.217,29.467,17.407,41.934,16.244,12.511,35.778,9.876,40.549,9.1"
//   />
//   <path
//     id="_3"
//     d="M295.809,98.455c-6.576,1.012-16.594,3.7-23.538,11.868-4.87,5.731-5.866,11.379-7.715,18.989-7.822,32.2-17.168,42.913-13.252,46.286,1.623,1.4,7.788,3.485,38.175-20.967"
//   />
//   <path
//     id="_4"
//     d="M399.26,33.576c-.043-4.161-.693-14.5-7.517-18.989C380.1,6.933,359.966,22.6,356.534,25.268c-17.558,13.664-24.073,32.257-27.692,42.33-27.971,77.861-47.257,104.343-39.56,109.583,3.531,2.4,12.507.174,37.582-23.341"
//   />
//   <path
//     id="_5"
//     d="M435.26,31.6c-2.169-7.257-6.014-15.318-13.055-17.8-18.569-6.55-45.73,30.493-50.638,37.187-6.2,8.45-12.06,18.2-34.022,78.329-14.434,39.519-16.136,46.905-13.45,48.66,2.934,1.917,12.056-2.265,42.329-36.791"
//   />
//   <path
//     id="_6"
//     d="M412.315,126.543c9.23-4.2,13.953-12.66,12.263-19.384-2.064-8.213-12.854-10.487-13.846-10.682-13.107-2.569-29.531,8.107-30.857,19.385-1.76,14.968,24.221,21.257,23.736,39.56-.283,10.685-9.434,19.731-17.8,23.341-14.864,6.412-35.286-.868-46.286-19.385"
//   />
//   <path id="_7" d="M280.183,75.51l38.769-19.78" />
// </svg>;
